enum ActionType {
  LOCK
  FREE
  EXECUTIVE_VOTE
  POLL_VOTE
}

type VoterRegistry @entity {
  id: ID!
  coldAddress: Bytes!
  hotAddress: Bytes!
  voteProxies: [VoteProxy!]! @derivedFrom(field: "owner")
}

type ExecutiveVote @entity {
  id: ID!
  locked: BigDecimal!
  voters: [VoterRegistry!]!
}

type PollVote @entity {
  id: ID!
  voters: [VoterRegistry!]!
}

type VoteProxy @entity {
  id: ID!
  locked: BigDecimal!
  owner: VoterRegistry!
  " Action timestamp as seconds (time) "
  timestamp: BigInt!
  address: Bytes!
}

type Action @entity {
  id: ID!
  " Action name (act) "
  sender: Bytes!
  type: ActionType!
  " Action value (arg) "
  wad: BigDecimal
  " Transaction hash (tx) "
  transactionHash: Bytes!
  " Action timestamp as seconds (time) "
  timestamp: BigInt!
}

type GovernanceInfo @entity {
  id: ID!
  countVoters: BigInt!
  countExecutiveVotes: BigInt!
  countPollVotes: BigInt!
  locked: BigDecimal!
  lastBlock: BigInt!
}
